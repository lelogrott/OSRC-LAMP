\chapter{Conceitos}
\label{cap:conceitos}

\section{LAMP}
\label{sec:lamp}

\subsection{CONCEITO}
\label{subsec:historico}


LAMP é um conjunto de soluções, ou seja, uma lista dos componentes pricipais
que são usados para implementar uma solução. LAMP é provavelmente o conjunto
mais comumente usado para hostear páginas e aplicações web. Especialmente entre
pequenas e médias empresas, pois os principais componentes são de código aberto
e não têm custo. Um bom exemplo para visualizar como cada componente do LAMP
funciona seria um visitante entrando em um site pelo seu browser, que irá enviar
um pedido para um servidor web com todos os componentes LAMP instalados e sendo
executados que, por sua vez, irá executar alguns comandos e devolver para o
browser um arquivo em HTML. Um servidor web é um tipo de computador, logo ele
necessita de um sistema operacional que será a base na qual todos os outros
componentes possam ser executados. Nesse caso é uma distribuição Linux, que é
o "L" em LAMP. Agora, para receber e manipular todos os pedidos do visitante
precisa-se de um servidor web que, nesse caso, é o Apache (o "A" em LAMP). Se
o visitante faz a requisição de um arquivo, o Apache procura no servidor pelo
o arquivo e envia devolta para o browser do visitante. O "P" significa PHP que
também pode ser Perl ou Python, mas isso não é muito comum. PHP é uma linguagem
de programação que é utilizada parar gerar páginas dinâmicas. Quando um visitante
faz a requisição de um arquivo em PHP o Apache não apenas pega esse arquivo e
envia de volta para o browser como ele faz com outros tipos de arquivos. Em vez
disso, ele primeiro envia o arquivo para o PHP, que executa o código no arquivo
e gera um arquivo HTML para a página web. O HTML gerado pelo PHP volta para o
Apache e depois para o browser do visitante. O "M" significa MySQL que é um SGBD
usado para armazenar as informações de um site. Frequentemente os dados necessários
para gerar o arquivo PHP depende em quem o visitante é, como o nome dele, número
da conta ou histórico de pedidos. O banco de dados permite que essas informações
fiquem armazenadas.

\subsection{HISTÓRICO}
\label{subsec:historico}


\subsection{APLICABILIDADE}
\label{subsec:aplicabilidade}


\section{FUNCIONAMENTO E COMPONENTES BÁSICOS}
\label{sec:componentes}

\subsection{Linux}
\label{subsec:linux}

Linux poderia ser descrito como um sistema operacional similar a 
qualquer outro, como Windows e OS X. Porém tem algo que o destaca dos demais, 
desde sua origem em 1991, e que é o motivo do sistema ter crescido e ganhado
uma grande força na computação, atualmente presente em lugares desde a bolsa
de valores de Nova York e supercomputadores  à telefones celulares e computadores
pessoais, o Linux é um software livre desenvolvido de maneira
colaborativa \cite{WhatI30:online}. Mais de 1.000 desenvolvedores
de pelo menos 100 diferentes companhias, contribuíram para cada
versão do kernel sob a licensa \ac{GPL} que é baseada em quatro
liberdades \cite{Whati7:online}:

\begin{itemize}
 \item A liberdade de executar o programa como quiser, para qualquer propósito;
 \item A liberdade para estudar como o programa funciona, e alterá-lo para que ele execute como você queira. Ter acesso ao código fonte é necessário para tal;
 \item A liberdade para redistribuir cópias para ajudar o próximo; e
 \item A liberdade para distribuir cópias de suas versões modificadas para outros. Fazendo isso você concede à comunidade a chance de se beneficiarem de suas alterações. Ter acesso ao código fonte é necessário para tal.
\end{itemize}

Por esses motivos o Linux tem sido bem-sucedido, particularmente como plataforma de servidor: 
até mesmo em organizações que confiam veemente em sistemas operacionais
comerciais como Microsoft Windows, o Linux aparece frequentemente em papeis infraestruturais, como em \textit{gateways} de \ac{SMTP} e servidores \ac{DNS}
devido a sua confiança, segurança, baixo custo e a qualidade execepcional das aplicações do servidor \cite{bauer2005linux}.

\subsection{Apache}
\label{subsec:apache}

Atuando como servidor \ac{HTTP} no sistema \ac{LAMP}, o Apache é o servidor \textit{web}
mais popular na Internet desde Abril de 1996 \cite{http:apache}.
O Apache é um projeto de código livre (sob a licensa \ac{GPL}) da \ac{ASP}, o qual tem como 
objetivo manter um seguro, eficiente e extensível servidor que provê
serviços \ac{HTTP} de acordo com os padrões \ac{HTTP} atuais.

\subsection{MySQL}
\label{subsec:mysql}

O \ac{BD} MySQL, foi projetado com base no mSQL, o qual tinha muitos problemas, como 
não ser rápido e flexível o suficiente para o uso dos usuários, com isso a necessidade
de um novo \ac{BD} foi aumentando e com base nesse conceito foi desenvolvido o que
hoje conhecemos como MySQL, por isso é o \ac{BD} do servidor LAMP.

Um \ac{BD} pode ser definido como uma coleção de dados. Porém para conseguir acessar
os dados armazenados nesse sistema, teve-se a necessidade de criar algum tipo de gerenciador,
sendo o MySQL um dos mais usados. Algumas características \cite{MySQL69:online} desse sistema podem ser vistas abaixo:

\begin{itemize}
 \item \textbf{Banco de dados relacional:} a principal diferença desse tipo de \ac{BD} para os outros
 é que os dados são guardados em pequenas tabelas de uma forma que seu acesso seja da forma mais eficiente
 o possível.
 \item \textbf{\textit{Open Source:}} esse termo corresponde que qualquer pessoa pode modificar o 
 \textit{software} do jeito que preferir, podendo ajustá-lo conforme a sua necessidade.
 \item \textbf{Rápido, confiável, escalável e fácil de usar:} como foi criado para atender a grandes
 quantidades de dados de uma forma mais rápida que seus concorrentes, foi apenas lógico que se tornasse
 um dos mais rápidos \ac{BD}. Portanto começou a ser utilizado em grande escala, consequentemente a 
 segurança foi aumentando juntamente com sua escalabilidade para atender a demanda de usuários. 
\end{itemize}

Contudo, mesmo com medidas de seguranças sendo tomadas, precisamos ainda tomar algumas atitudes para 
dificultar que seu \ac{BD} seja acessado por pessoas não autorizadas, alguns métodos básicos que 
ajudam a proteger são descritas abaixo \cite{MySQL10:online}:

\begin{itemize}
 \item Não prover acesso a ninguém para a tabela usuário do \ac{BD} MySQL.
 \item Não guardar senhas sem algum tipo de função \textit{hash} (algoritmo usado para transformar 
 sua senha para uma \textit{string} ilegível.
 \item Crie senhas aleátorias, porém de fácil memorização.
 \item Invista em um \textit{firewall}, protegem pelo menos 50\% dos ataques feitos contra seu \textit{software}.
 \item Sempre criptografe os dados que precisam ser enviados pela internet.
\end{itemize}



\subsection{PHP}
\label{subsec:php}

O \ac{PHP} foi criado em 1994 por Rasmus Lerdof, o projeto inicial era um simples conjunto de \ac{CGI}s binários escritos na linguagem de
programação C, usados para rastrear as visitas ao seu \textit{site}. Com o tempo, otimizações foram sendo feitas e funcionalidades adicionadas.
Sendo lançado em 1998, o \ac{PHP} 3.0 foi a primeira versão que contém traços do \ac{PHP} de hoje em dia, incluindo o suporte a programação orientada a
objeto. Porém essa versão tinha muita dificuldade em processar aplicações complexas, foi com base nessa premissa que foram lançadas as versões 4.0
e 5.0 (Julho de 2004), principalmente para melhorar seu antecessor e acrescentar dezenas de novos recursos.

Usado principalmente para desenvolvimento \textit{web}, é um \textit{script open source} de uso geral. Podemos especificar em quais áreas os 
\textit{scripts} \ac{PHP} são mais utilizados \cite{PHP:O35:online}, como:
\begin{itemize}
 \item \textbf{Scripts no lado do servidor.} Podendo acessar os resultados do seu programa com um navegador web.
 \item \textbf{Scripts de linha de comando.} Executar os scripts sem um servidor ou navegador, apenas necessita de um interpretador PHP.
 \item \textbf{Escrever aplicações desktop.} Não é a melhor linguagem para se desenvolver aplicações desktop, porém para um programador experiente o PHP tem alguns recursos
 avançados que permitem escrever esse sistema.
\end{itemize}

Uma característica é a escalabilidade que o \ac{PHP} possui, podendo ser utilizado na maioria
dos sistemas operacionais e servidores \textit{web}. Com isso ele vem sendo aplicado cada
vez mais em servidores LAMP, por suas várias extensões que facilitam a conectividade com diversos banco de dados.


\section{FUNDAMENTAÇÃO DE ATAQUE E SOLUÇÕES}
\label{sec:fundamentos}

Testes de penetração de servidores \textit{web} não devem ser confundidos com ataques maliciosos. Apesar de possuirem rotinas 
parecidas, possuem objetivos distintos. Ataques maliciosos são realizados para roubar informações, causar indisponibilidade de serviços
(\ac{DoS}) ou qualquer outro evento indesejado ao responsável pelo servidor. Já um teste de penetração consiste em um processo 
autorizado, programado e sistemático onde se faz uso de vulnerabilitades conhecidas para realizar tentativas de invasão à um servidor,
rede ou conteúdos de aplicações.

Testes de penetração podem ser executados de mais de uma maneira para propor mais de um ponto de vista sob a mesma organização. 
Para tal, existem dois tipos de testes (não exclusivos) que podem ser conduzidos \cite{sans:2002}.

\begin{description}
      \item[Teste  interno de penetração] Realizado com o objetivo de identificar vulnerabilidades com acesso
      físico ou exposição a engenharia social. Servem para determinar quais vulnerabilidades existem no sistema interno, 
      acessível somente à pessoas autorizadas com acesso a rede interna da organização.

      \item[Teste externo de penetração] Realizado com o objetivo de identificar vulnerabilidades presentes através de
      conexões que foram estabelecidas através da conexão entre a organização e a Internet (através do \textit{firewall} ou \textit{gateway}).
\end{description}

\section{FRAMEWORKS E SOLUÇÕES PARA ANÁLISE DE VULNERABILIDADES}
\label{sec:frameworks}

\textit{Frameworks} para análise de vulnerabilidades são ferramentas para facilitar a detecção de vulnerabilidades em determinado sistema/página \textit{web}.

Uma delas é o \textit{Nikto}, o qual é uma ferramenta de segurança específica para \textit{website}, podendo verificar mais de 6.000 testes. Alguns dos principais problemas que podem
ser achados são: Arquivos perigosos, serviços mal configurados, \textit{scripts} vulneráveis, entre outros.

Outra ferramenta que pode ser citada é o \textit{Vega}, com objetivos semelhantes ao \textit{Nikto}, porém com dois modos de operação \cite{About78:online}: 
\begin{itemize}
 \item \textbf{\textit{Scanner} automático:} rastreia automaticamente por \textit{websites}, extraindo links, e executa módulos em possíveis pontos de vulnerabilidades.
 \item \textbf{\textit{Proxy de interceptação:}} permite análises detalhados sobre a interação navegador-aplicação.
\end{itemize}

Pode-se citar ainda o OpenVAS, uma ferramenta para varredura e gerenciamento de vulnerabilidades. Podendo ser subdividido em duas arquiteturas \cite{OpenV32:online}:
\begin{itemize}
 \item \textbf{Rastreados OpenVAS:} executa os testes de vulnerabilidades.
 \item \textbf{Gerenciador OpenVAS:} consolida a varredura de vulnerabilidade em uma solução completa de gerenciamento de vulnerabilidade.
\end{itemize}



\section{NORMAS, RECOMENDAÇÕES E BOAS PRÁTICAS PARA ANÁLISE DE VULNERABILIDADES}
\label{sec:normas}


Vulnerabilidade pode ser definida como um erro no \textit{software} que permita ao \textit{hacker} ganhar acesso ao sistema ou a rede interna \cite{CVE-F22:online}. Primeiro monitora-se
com qual frequência determinada vulnerabilidade pode ocorrer, e o quão prejudicial é para o programa. Quando é descoberto alguma vulnerabilidade com os testes realizados,
verifica-se em algum banco de dados de vulnerabilidades, sendo o \ac{CVE} uma boa fonte para conhecer um pouco mais sobre o problema encontrado. 

Existem também os escaneadores de vulnerabilidade, os quais são \textit{softwares} que ajudam na identificação de possíveis problemas que podem facilitar a corrupção do 
sistema, identificando, como por exemplo: versões de \textit{softwares} desatualizadas, configurações falhas. Segundo \cite{NIST:online}, esses escaneadores podem:

\begin{itemize}
 \item \textbf{Verificar políticas de segurança.}
 \item \textbf{Prover informações sobre alvos para testes de penetração.}
 \item \textbf{Fornecer informações sobre como diminuir as vulnerabilidades descobertas.}
\end{itemize}

Contudo, mesmo com esses facilitadores, ainda existem alguns problemas a serem vencidos, como quando pequenos riscos de vulnerabilidade são analisados de uma forma isolada, porém 
quando observados como um conjunto podem trazer um grande problema ao sistema, isso pode ser dito como uma das principais falhas desses escaneadores, pois conseguem apenas analisar 
ameaças indíviduais e não em um escopo específico.

Outro meio de se prevenir contra ataques pode ser feito com uma simples revisão do código fonte quando está sendo implementado, não apenas no seu estado final. Também é viável realizar 
testes unitários para verificar a consistência presente no código.


\begin{comment}

  EXEMPLO DE FIGURA

  \begin{figure}[!h]
  \centering
  \includegraphics[scale=0.7]{sdnARCH.png}
  \caption{Diagrama da arquitetura de uma SDN.}
  \label{fig:sdnArch}
  \end{figure}

  EXEMPLO DE DESCRIÇÃO DE ALTERNATIVAS

  \begin{description}
      \item[Maxinet] Baseado no \textit{Mininet}, possui o objetivo de superar as limitações em relação ao
      número de dispositivos de rede que podem ser simulados. Segundo o autor~\cite{maxinet}, o \textit{Maxinet} tem
      como propósito simular grandes redes de \textit{data-centers} e superar o desempenho do \textit{Mininet} através
      da utilização de vários computadores trabalhando de forma distribuída. O \textit{Maxinet} contém \textit{built-in} um
      gerador de trafego de rede, baseado em recentes análises de casos reais.

      \item[Mininet-Hifi] O \textit{Mininet-Hifi}~\cite{mininethifi} é um projeto com a finalidade de melhorar
      a reprodutibilidade de testes realizados no \textit{Mininet}. Implementado de forma semelhante, utilizando 
      \textit{containers}, o \textit{Mininet-Hifi} utiliza de recursos adicionais para melhorar a reprodutibilidade. 
  \end{description}

\end{comment}




\chapter{Conclusão}

Conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
 conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
  conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
   conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
    conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
     conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
      conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
 conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
  conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão conclusão
  


